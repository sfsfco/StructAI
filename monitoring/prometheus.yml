# ═══════════════════════════════════════════════════════════════════════
#  Prometheus configuration for StructAI
# ═══════════════════════════════════════════════════════════════════════

global:
  scrape_interval: 15s        # How often to scrape targets
  evaluation_interval: 15s    # How often to evaluate rules
  scrape_timeout: 10s

scrape_configs:
  # ── FastAPI Application ───────────────────────────────────────────
  - job_name: "structai-api"
    metrics_path: /metrics
    static_configs:
      - targets: ["api:8000"]
        labels:
          service: "api"

  # ── Redis (via redis_exporter sidecar, if added later) ────────────
  # - job_name: "redis"
  #   static_configs:
  #     - targets: ["redis-exporter:9121"]

  # ── PostgreSQL (via postgres_exporter sidecar, if added later) ────
  # - job_name: "postgres"
  #   static_configs:
  #     - targets: ["postgres-exporter:9187"]
